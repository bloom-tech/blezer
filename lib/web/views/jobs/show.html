{% extends "base.html" %}
{% block content %}

{% include "_partials/nav.html" %}
<div class="container-fluid">
  <div class="row">
    {% set nav = { active: 'jobs' } %}
    {% include "_partials/sidebar.html" %}

    <main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
      <h2>Job: {{ jid }}</h2>

      <form action='/jobs/{{ jid }}/delete' method='POST' class='mt-3 mb-3'>
        <button type='submit' class="btn btn-danger float-right mb-3">Stop</button>
      </form>

      <table class="table">
        <tbody>
          <tr>
            <td>Task</td>
            <td>{{job.task}}</td>
          </tr>
          <tr>
            <td>Queue</td>
            <td>{{job.queue}}</td>
          </tr>
          {% for arg in args %}
            <tr>
              <td>{{arg}}</td>
              <td>{{job.args[arg]}}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class='progress progress-striped m-3'>
        <div class="progress-bar progress-bar-warning" role="progressbar" style="width: {{ progress }}%;">
        </div>
      </div>

      <ul class="terminal">
        {% for log in logs %}
        <li>{{ log }}</li>
        {% endfor %}
      </ul>
    </main>
  </div>
</div>
{% endblock %}
